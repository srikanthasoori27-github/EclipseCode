<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE Application PUBLIC "sailpoint.dtd" "sailpoint.dtd">
<Application connector="sailpoint.connector.JDBCConnector" featuresString="DISCOVER_SCHEMA, PROVISIONING, SYNC_PROVISIONING, DIRECT_PERMISSIONS, SEARCH, ENABLE, UNLOCK" icon="databaseIcon" name="Collateral" profileClass="" type="JDBC">
    <Attributes>
        <Map>
            <entry key="Group.SQL" value="SELECT &#9;A.AppName &#13;&#10;,M.ModuleName &#13;&#10;,P.ProfileID &#13;&#10;,P.ProfileName &#13;&#10;,P.ProfileDescription &#13;&#10;,P.Status &#13;&#10;FROM [El_Security].[Profiles].Applications A &#13;&#10;INNER JOIN [El_Security].[Profiles].ModuleApplication MA ON A.AppID = MA.AppID &#13;&#10;INNER JOIN [El_Security].[Profiles].Modules M ON M.ModuleID = MA.ModuleID &#13;&#10;INNER JOIN [El_Security].[Profiles].ModuleAppProfile MP ON MP.ModuleID = M.ModuleID &#13;&#10;JOIN [El_Security].[Profiles].Profiles P ON P.ProfileID = MP.ProfileID&#13;&#10;order by P.ProfileID;"/>
            <entry key="Group.aggregationMode">
                <value>
                    <Boolean/>
                </value>
            </entry>
            <entry key="Group.deltaTable"/>
            <entry key="Group.driverClass" value="%%ELE_COLLATERAL_DB_DRIVER%%"/>
            <entry key="Group.getDeltaSQL"/>
            <entry key="Group.getDirectPermObjectSQL"/>
            <entry key="Group.getObjectSQL"/>
            <entry key="Group.indexColumns">
                <value>
                    <List>
                        <String>ProfileID</String>
                    </List>
                </value>
            </entry>
            <entry key="Group.isPermissionEnabled">
                <value>
                    <Boolean/>
                </value>
            </entry>
            <entry key="Group.mergeColumns">
                <value>
                    <List>
                        <String>AppName</String>
                        <String>ModuleName</String>
                    </List>
                </value>
            </entry>
            <entry key="Group.mergeRows">
                <value>
                    <Boolean>true</Boolean>
                </value>
            </entry>
            <entry key="Group.password" value="%%ELE_MS_SQL_SVC_ACCOUNT_PWD%%"/>
            <entry key="Group.url" value="%%ELE_COLLATERAL_DB_URL%%"/>
            <entry key="Group.useExecuteQuery">
                <value>
                    <Boolean/>
                </value>
            </entry>
            <entry key="Group.useStoredProcedureDelta">
                <value>
                    <Boolean/>
                </value>
            </entry>
            <entry key="Group.useStoredProcedureDirectPermission">
                <value>
                    <Boolean/>
                </value>
            </entry>
            <entry key="Group.useStoredProcedureGetObject">
                <value>
                    <Boolean/>
                </value>
            </entry>
            <entry key="Group.useStoredProcedureSqlStmt">
                <value>
                    <Boolean/>
                </value>
            </entry>
            <entry key="Group.user" value="%%ELE_MS_SQL_SVC_ACCOUNT%%"/>
            <entry key="SQL" value="use Collateral;&#13;&#10;                SELECT                  U.UserID&#13;&#10;&#13;&#10;                                                                                                ,U.UserAD&#13;&#10;&#13;&#10;                                                                                                ,U.UserName&#13;&#10;&#13;&#10;                                                                                                ,U.UserLastName&#13;&#10;&#13;&#10;                                                                                                ,U.RoleID&#13;&#10;&#13;&#10;                                                                                                ,U.StatusID&#13;&#10;&#13;&#10;                                                                                                ,U.EmployeeNumber&#13;&#10;&#13;&#10;                                                                                                ,U.UserFullName&#13;&#10;&#13;&#10;                                                                                                ,U.Email&#13;&#10;&#13;&#10;                                                                                                ,UP.ProfileID&#13;&#10;&#13;&#10;                                                                                                ,P.ProfileName&#13;&#10;&#13;&#10;  FROM                                 [El_Security].[Profiles].[Users_Profiles] UP&#13;&#10;&#13;&#10;                JOIN                                      [El_Security].[Profiles].Users                                      U ON UP.UserID                               = U.UserID&#13;&#10;&#13;&#10;                JOIN                                      [El_Security].[Profiles].[Profiles] P             ON P.ProfileID   = UP.ProfileID  &#13;&#10;&#13;&#10;                ORDER BY            U.UserID;"/>
            <entry key="acctAggregationEnd">
                <value>
                    <Date>1615694500121</Date>
                </value>
            </entry>
            <entry key="acctAggregationStart">
                <value>
                    <Date>1615694497257</Date>
                </value>
            </entry>
            <entry key="afterProvisioningRule"/>
            <entry key="aggregationMode">
                <value>
                    <Boolean/>
                </value>
            </entry>
            <entry key="beforeProvisioningRule"/>
            <entry key="compositeDefinition"/>
            <entry key="deltaTable"/>
            <entry key="disableOrderingCheck" value="true"/>
            <entry key="driverClass" value="%%ELE_COLLATERAL_DB_DRIVER%%"/>
            <entry key="getDeltaSQL"/>
            <entry key="indexColumns">
                <value>
                    <List>
                        <String>UserID</String>
                    </List>
                </value>
            </entry>
            <entry key="isPermissionEnabled">
                <value>
                    <Boolean/>
                </value>
            </entry>
            <entry key="jdbcExceptionBucketing">
                <value>
                    <Boolean>true</Boolean>
                </value>
            </entry>
            <entry key="mergeColumns">
                <value>
                    <List>
                        <String>ProfileID</String>
                        <String>RoleID</String>
                    </List>
                </value>
            </entry>
            <entry key="mergeRows">
                <value>
                    <Boolean>true</Boolean>
                </value>
            </entry>
            <entry key="nativeChangeDetectionAttributeScope" value="entitlements"/>
            <entry key="nativeChangeDetectionAttributes"/>
            <entry key="nativeChangeDetectionEnabled">
                <value>
                    <Boolean/>
                </value>
            </entry>
            <entry key="nativeChangeDetectionOperations"/>
            <entry key="partitionMode">
                <value>
                    <Boolean/>
                </value>
            </entry>
            <entry key="partitionStatements"/>
            <entry key="password" value="%%ELE_MS_SQL_SVC_ACCOUNT_PWD%%"/>
            <entry key="provisionRule" value="globalRule"/>
            <entry key="role.SQL" value="SELECT [IdRol] &#13;&#10;      ,[RoleName] &#13;&#10;  FROM [el_security].[dbo].[Roles] ;"/>
            <entry key="role.aggregationMode">
                <value>
                    <Boolean/>
                </value>
            </entry>
            <entry key="role.deltaTable"/>
            <entry key="role.driverClass" value="%%ELE_COLLATERAL_DB_DRIVER%%"/>
            <entry key="role.getDeltaSQL"/>
            <entry key="role.getDirectPermObjectSQL"/>
            <entry key="role.getObjectSQL"/>
            <entry key="role.isPermissionEnabled">
                <value>
                    <Boolean/>
                </value>
            </entry>
            <entry key="role.mergeRows">
                <value>
                    <Boolean/>
                </value>
            </entry>
            <entry key="role.password" value="%%ELE_MS_SQL_SVC_ACCOUNT_PWD%%"/>
            <entry key="role.url" value="%%ELE_COLLATERAL_DB_URL%%"/>
            <entry key="role.useExecuteQuery">
                <value>
                    <Boolean/>
                </value>
            </entry>
            <entry key="role.useStoredProcedureDelta">
                <value>
                    <Boolean/>
                </value>
            </entry>
            <entry key="role.useStoredProcedureDirectPermission">
                <value>
                    <Boolean/>
                </value>
            </entry>
            <entry key="role.useStoredProcedureGetObject">
                <value>
                    <Boolean/>
                </value>
            </entry>
            <entry key="role.useStoredProcedureSqlStmt">
                <value>
                    <Boolean/>
                </value>
            </entry>
            <entry key="role.user" value="%%ELE_MS_SQL_SVC_ACCOUNT%%"/>
            <entry key="sysDescriptions">
                <value>
                    <Map>
                        <entry key="en_US"/>
                    </Map>
                </value>
            </entry>
            <entry key="templateApplication" value="JDBC Template"/>
            <entry key="testConnSQL" value="select * from collateral.Documents;"/>
            <entry key="url" value="%%ELE_COLLATERAL_DB_URL%%"/>
            <entry key="useExecuteQuery">
                <value>
                    <Boolean/>
                </value>
            </entry>
            <entry key="useStoredProcedureDelta">
                <value>
                    <Boolean/>
                </value>
            </entry>
            <entry key="useStoredProcedureDirectPermission">
                <value>
                    <Boolean/>
                </value>
            </entry>
            <entry key="useStoredProcedureGetObject">
                <value>
                    <Boolean/>
                </value>
            </entry>
            <entry key="useStoredProcedurePartition">
                <value>
                    <Boolean/>
                </value>
            </entry>
            <entry key="useStoredProcedureSqlStmt">
                <value>
                    <Boolean/>
                </value>
            </entry>
            <entry key="useStoredProcedureTestConn">
                <value>
                    <Boolean/>
                </value>
            </entry>
            <entry key="user" value="%%ELE_MS_SQL_SVC_ACCOUNT%%"/>
        </Map>
    </Attributes>
    <CorrelationRule>
        <Reference class="sailpoint.object.Rule" name="ELE_Global_Correlation_Rule"/>
    </CorrelationRule>
    <CreationRule>
        <Reference class="sailpoint.object.Rule" name="ELE_Global_IdentityCreation_Rule"/>
    </CreationRule>
    <Owner>
        <Reference class="sailpoint.object.Identity" name="spadmin"/>
    </Owner>
    <Schemas>
        <Schema displayAttribute="UserFullName" identityAttribute="UserID" instanceAttribute="" nativeObjectType="account" objectType="account" permissionsRemediationModificationType="None">
            <AttributeDefinition name="UserID" type="string">
                <Description/>
            </AttributeDefinition>
            <AttributeDefinition name="UserAD" type="string">
                <Description/>
            </AttributeDefinition>
            <AttributeDefinition name="UserName" type="string">
                <Description/>
            </AttributeDefinition>
            <AttributeDefinition name="UserLastName" type="string">
                <Description/>
            </AttributeDefinition>
            <AttributeDefinition entitlement="true" managed="true" multi="true" name="RoleID" schemaObjectType="role" type="string">
                <Description/>
            </AttributeDefinition>
            <AttributeDefinition name="StatusID" type="string">
                <Description/>
            </AttributeDefinition>
            <AttributeDefinition name="EmployeeNumber" type="string">
                <Description/>
            </AttributeDefinition>
            <AttributeDefinition name="UserFullName" type="string">
                <Description/>
            </AttributeDefinition>
            <AttributeDefinition name="Email" type="string">
                <Description/>
            </AttributeDefinition>
            <AttributeDefinition entitlement="true" managed="true" multi="true" name="ProfileID" schemaObjectType="Group" type="string">
                <Description/>
            </AttributeDefinition>
            <AttributeDefinition name="ProfileName" type="string">
                <Description/>
            </AttributeDefinition>
        </Schema>
        <Schema aggregationType="group" descriptionAttribute="ProfileDescription" displayAttribute="ProfileName" identityAttribute="ProfileID" instanceAttribute="" nativeObjectType="Group" objectType="Group" permissionsRemediationModificationType="None">
            <AttributeDefinition multi="true" name="AppName" type="string">
                <Description/>
            </AttributeDefinition>
            <AttributeDefinition multi="true" name="ModuleName" type="string">
                <Description/>
            </AttributeDefinition>
            <AttributeDefinition name="ProfileID" type="string">
                <Description/>
            </AttributeDefinition>
            <AttributeDefinition name="ProfileName" type="string">
                <Description/>
            </AttributeDefinition>
            <AttributeDefinition name="ProfileDescription" type="string">
                <Description/>
            </AttributeDefinition>
            <AttributeDefinition name="Status" type="string">
                <Description/>
            </AttributeDefinition>
        </Schema>
        <Schema aggregationType="group" descriptionAttribute="" displayAttribute="RoleName" identityAttribute="IdRol" instanceAttribute="" nativeObjectType="role" objectType="role" permissionsRemediationModificationType="None">
            <AttributeDefinition name="IdRol" type="string">
                <Description/>
            </AttributeDefinition>
            <AttributeDefinition name="RoleName" type="string">
                <Description/>
            </AttributeDefinition>
        </Schema>
    </Schemas>
    <ApplicationScorecard/>
</Application>