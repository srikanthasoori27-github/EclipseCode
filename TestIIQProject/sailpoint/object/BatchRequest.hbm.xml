<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC
  "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
  "http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd" [
  <!ENTITY SailPointObject SYSTEM "classpath://sailpoint/object/SailPointObject.hbm.xml">
]>

<!-- (c) Copyright 2008 SailPoint Technologies, Inc., All Rights Reserved. -->

<hibernate-mapping>
  <class name="sailpoint.object.BatchRequest">

    &SailPointObject;

    <!--
      The name is the file name of the batch request file.
     -->
    <property name="fileName" type="string" length="255" />

    <property name="header" type="string" length="4000" />

    <property name="runDate" type="sailpoint.persistence.DateType"/>
    
    <property name="completedDate" type="sailpoint.persistence.DateType"/>

    <property name="recordCount" type="integer" length="6"/>

    <property name="completedCount" type="integer" length="6"/>

    <property name="errorCount" type="integer" length="6"/>

    <property name="invalidCount" type="integer" length="6"/>

    <property name="message" type="string" length="4000" />

    <property name="errorMessage" type="sailpoint.persistence.XmlType" length="100000000" />

    <!--
      TODO: Make sure length is big enough
     -->
    <property name="fileContents" type="materialized_clob" length="100000000"/>

    <!--
      Scheduled, Running, Executed, Termianted
     -->
    <property name="status">
      <type name="sailpoint.persistence.EnumType">
        <param name="enumClassName">sailpoint.object.BatchRequest$Status</param>
      </type>
    </property>

    <property name="runConfig" type="sailpoint.persistence.XmlType" length="100000000"/>

    <list name="batchRequestItems" cascade="none" >
      <key column="batchRequestId"/>
      <list-index column="idx"/>
      <one-to-many class="sailpoint.object.BatchRequestItem"/>
    </list>
  </class>
</hibernate-mapping>
