jQuery(document).ready(function(){var saveClicked=true;var firstPop=false;top.cmt4all="MANDATORY";MutationObserver=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;var observer=new MutationObserver(function(mutations,observer){for(var i=0;i<mutations.length;i++){var mutation=mutations[i];var cd=jQuery.find("button[ng-click*='reviewCtrl.showCommentDialog(requestedItem)']");var cd2=jQuery.find("button[ng-click*='reviewCtrl.showCommentDialog(removedItem)']");var sd=jQuery.find("button[ng-disabled*='reviewCtrl.getSubmitDisabled()']");if(sd.length>=1){sd[0].disabled=true;var ab=document.createAttribute("ng-items");ab.value="reviewCtrl.getRequestedItems()";sd[0].attributes.setNamedItem(ab)}if(cd.length>=1){saveClicked=true;for(var j=0;j<cd.length;j++){var lbl=cd[j].getAttribute("aria-label");var a=document.createAttribute("ng-class");a.value="{'btn-success' : requestedItem.hasCommentsOrNotes(), 'btn-danger' : !requestedItem.hasCommentsOrNotes()}";cd[j].attributes.setNamedItem(a);if(lbl.indexOf("Comment for")!=-1){saveClicked=saveClicked&&false;cd[j].className="btn btn-sm m-l-xs btn-danger"}else{saveClicked=saveClicked&&true;cd[j].className="btn btn-sm m-l-xs btn-success"}if(!firstPop){cd[0].click(function(){console.log("pop!")});firstPop=true}}}if(cd2.length>=1){saveClicked=true;for(var j2=0;j2<cd2.length;j2++){var lbl=cd2[j2].getAttribute("aria-label");var a2=document.createAttribute("ng-class");a2.value="{'btn-success' : requestedItem.hasCommentsOrNotes(), 'btn-danger' : !requestedItem.hasCommentsOrNotes()}";cd2[j2].attributes.setNamedItem(a2);if(lbl.indexOf("Comment for")!=-1){saveClicked=saveClicked&&false;cd2[j2].className="btn btn-sm m-l-xs btn-danger"}else{saveClicked=saveClicked&&true;cd2[j2].className="btn btn-sm m-l-xs btn-success"}if(!firstPop){cd2[0].click(function(){console.log("pop!")});firstPop=true}}}var sd=jQuery.find("button[ng-disabled*='reviewCtrl.getSubmitDisabled()']");if(sd.length>=1){if(saveClicked){sd[0].disabled=false}else{sd[0].disabled=true}}}});observer.observe(document,{childList:true,subtree:true,attributes:false})});jQuery(document).ready(function(){MutationObserver=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;var observer=new MutationObserver(function(mutations,observer){for(var i=0;i<mutations.length;i++){var mutation=mutations[i];for(var i2=0;i2<mutation.addedNodes.length;i2++){var saveClickedButton=jQuery(mutation.addedNodes[i2]).find("button[ng-click*='ctrl.saveComment()']");if(saveClickedButton.length==1){var rcdmt=jQuery.find("h4[id*='modalTitle']");if(rcdmt.length>=1){var title=rcdmt[0].innerText;if(title.indexOf("Justification")==-1){var itemName="";itemName=angular.element(".modal").scope().$resolve.requestedAccessItem.item.attributes.displayableName||angular.element(".modal").scope().$resolve.requestedAccessItem.item.attributes.name;rcdmt[0].innerText="Required Justification";if(itemName.length>0)rcdmt[0].innerText+=" - "+itemName;var a2a=jQuery.find("[id*='apply2all']");if(a2a.length<1){jQuery("div.panel-footer button:last").before('<input type="checkbox" id="apply2all"><b>&nbsp;Apply to All Items &nbsp;&nbsp;</b></input>')}}}}var commTabPanelQuery=jQuery(mutation.addedNodes[i2]).find("div[id='commentTabPanel']");if(commTabPanelQuery.length==1){commTabPanelQuery[0].className="panel-body ng-scope ng-hide"}var commPanelQuery=jQuery(mutation.addedNodes[i2]).find("div[id='commentPanel']");if(commPanelQuery.length==1){commPanelQuery[0].className="panel-body ng-scope"}}}});$("body").on("click","#saveCommentBtn",function(event){var cmt=jQuery.find("textarea[id*='commentTextArea']");if(document.getElementById("apply2all").checked){top.cmt4all=cmt[0].value;var cd=jQuery.find("button[ng-click*='reviewCtrl.showCommentDialog(requestedItem)']");var cd2=jQuery.find("button[ng-click*='reviewCtrl.showCommentDialog(removedItem)']");var rcds=jQuery.find("button[id*='saveCommentBtn']");var dm=jQuery.find("button[ng-click*='$dismiss()']");var ngm=jQuery.find("textarea[ng-model*='ctrl.comment']");if(cd.length>0){for(var i=0;i<cd.length;i++){cd[i].click(function(){console.log("pop!")});ngm=jQuery.find("textarea[ng-model*='ctrl.comment']");if(ngm.length>=1){ngm[0].value=cmt4all;$("#comment").trigger("change")}rcds=jQuery.find("button[id*='saveCommentBtn']");if(rcds.length>=1){rcds[0].click(function(){ctrl.saveComment()})}dm=jQuery.find("button[ng-click*='$dismiss()']");if(dm.length>=1){dm[0].click(function(){$dismiss()})}}}if(cd2.length>0){for(var i=0;i<cd2.length;i++){cd2[i].click(function(){console.log("pop!")});ngm=jQuery.find("textarea[ng-model*='ctrl.comment']");if(ngm.length>=1){ngm[0].value=cmt4all;$("#comment").trigger("change")}rcds=jQuery.find("button[id*='saveCommentBtn']");if(rcds.length>=1){rcds[0].click(function(){ctrl.saveComment()})}dm=jQuery.find("button[ng-click*='$dismiss()']");if(dm.length>=1){dm[0].click(function(){$dismiss()})}}}}});observer.observe(document,{childList:true,subtree:true,attributes:false})});